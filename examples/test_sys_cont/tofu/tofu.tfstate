{"version":4,"terraform_version":"1.11.2","serial":11,"lineage":"9f2ec1e6-b50d-838e-8404-f9b4d9b3a4e8","outputs":{"ssh_command":{"value":"ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o LogLevel=ERROR 10.10.30.10\nssh test-sys-cont\n","type":"string"}},"resources":[{"mode":"data","type":"external","name":"get_local_username","provider":"provider[\"registry.opentofu.org/hashicorp/external\"]","instances":[{"schema_version":0,"attributes":{"id":"-","program":["jq","-n","env | {username:.USER}"],"query":null,"result":{"username":"mattjohnson"},"working_dir":null},"sensitive_attributes":[]}]},{"mode":"data","type":"local_file","name":"cloud_init_ssh_key_pub","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIM2Gf3rpa3TyHvZgA/v0+84xealEhUgo4GV4XxcE4hf0 m@ttjohnson.com:matt-mbp2019:20231204:ed25519\n","content_base64":"c3NoLWVkMjU1MTkgQUFBQUMzTnphQzFsWkRJMU5URTVBQUFBSU0yR2YzcnBhM1R5SHZaZ0EvdjArODR4ZWFsRWhVZ280R1Y0WHhjRTRoZjAgbUB0dGpvaG5zb24uY29tOm1hdHQtbWJwMjAxOToyMDIzMTIwNDplZDI1NTE5Cg==","content_base64sha256":"QgX+0xS7PGigbhHJY0rf8j4rvKAwPH3SbvdbB6a0g5Q=","content_base64sha512":"Ld/i+Q4X6dIbH4+BvfovpbG9LhiRaeTuvU79U1NsJe85g/qQ7Qh2mPSjqzQXtDJFD2XFSi9ZdP99paBraCIobw==","content_md5":"37a97f62edf69fe42e096d83a5406632","content_sha1":"cf05797f788222e74423abd75eabc6213493cb23","content_sha256":"4205fed314bb3c68a06e11c9634adff23e2bbca0303c7dd26ef75b07a6b48394","content_sha512":"2ddfe2f90e17e9d21b1f8f81bdfa2fa5b1bd2e189169e4eebd4efd53536c25ef3983fa90ed087698f4a3ab3417b432450f65c54a2f5974ff7da5a06b6822286f","filename":"/Users/mattjohnson/.ssh/id_ed25519.pub","id":"cf05797f788222e74423abd75eabc6213493cb23"},"sensitive_attributes":[]}]},{"mode":"managed","type":"incus_instance","name":"system","provider":"provider[\"registry.opentofu.org/lxc/incus\"]","instances":[{"schema_version":0,"attributes":{"architecture":"x86_64","config":{"boot.autostart":"true","cloud-init.network-config":"network:\n    version: 2\n    ethernets:\n        eth0:\n            dhcp4: false\n            dhcp6: false\n            addresses: [ 10.10.30.10/24 ]\n            routes:\n              - to: default\n                via: 10.10.30.1\n            nameservers:\n              search: [ local ]\n              addresses: [ 10.10.30.3 ]\n","cloud-init.user-data":"#cloud-config\n\"packages\":\n- \"openssh-server\"\n\"users\":\n- \"default\"\n- \"groups\": \"users, admin\"\n  \"lock_passwd\": true\n  \"name\": \"mattjohnson\"\n  \"primary_group\": \"mattjohnson\"\n  \"shell\": \"/bin/bash\"\n  \"ssh_authorized_keys\":\n  - |\n    ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIM2Gf3rpa3TyHvZgA/v0+84xealEhUgo4GV4XxcE4hf0 m@ttjohnson.com:matt-mbp2019:20231204:ed25519\n  \"sudo\": \"ALL=(ALL) NOPASSWD:ALL\"\n","limits.cpu":"2","limits.memory":"2GiB"},"description":"","device":[{"name":"data","properties":{"path":"/data","pool":"local","source":"test-sys-cont-data"},"type":"disk"},{"name":"eth0","properties":{"nictype":"bridged","parent":"externalbr0"},"type":"nic"},{"name":"root","properties":{"path":"/","pool":"local","size":"10GiB"},"type":"disk"}],"ephemeral":false,"file":[],"image":"images:ubuntu/noble/cloud/amd64","ipv4_address":"10.10.30.10","ipv6_address":"fd75:961:65e0:4c67:1266:6aff:feef:145d","mac_address":"10:66:6a:ef:14:5d","name":"test-sys-cont","profiles":["default"],"project":null,"remote":null,"running":true,"source_file":null,"source_instance":null,"status":"Running","target":"","type":"container","wait_for":[]},"sensitive_attributes":[],"dependencies":["data.external.get_local_username","data.local_file.cloud_init_ssh_key_pub","incus_storage_volume.data"]}]},{"mode":"managed","type":"incus_storage_volume","name":"data","provider":"provider[\"registry.opentofu.org/lxc/incus\"]","instances":[{"schema_version":0,"attributes":{"config":{"size":"5GiB"},"content_type":"filesystem","description":"","location":"none","name":"test-sys-cont-data","pool":"local","project":null,"remote":null,"source_file":null,"source_volume":null,"target":"","type":"custom"},"sensitive_attributes":[]}]},{"mode":"managed","type":"local_file","name":"ansible_tofu_vars_file","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"\"implementation_name\": \"test_sys_cont\"\n","content_base64":null,"content_base64sha256":"Fcw4x8IUcEzh1Pqfr0hHlKA738w2JuxUrCXUOfcGlfM=","content_base64sha512":"y6LI2PmjaJLCuhhT/Q+pKGkwvTsf5f2XHrpHObAgMNmeZ17NtLJiAleDbvhoFgIe+CEZmzhFoHzmeaimrtd1Iw==","content_md5":"98e362fb3a174a912c38b3001be23f38","content_sha1":"2fab6b5102360044c9bc183960bc5c94048ba50d","content_sha256":"15cc38c7c214704ce1d4fa9faf484794a03bdfcc3626ec54ac25d439f70695f3","content_sha512":"cba2c8d8f9a36892c2ba1853fd0fa9286930bd3b1fe5fd971eba4739b02030d99e675ecdb4b2620257836ef86816021ef821199b3845a07ce679a8a6aed77523","directory_permission":"0777","file_permission":"0777","filename":"../ansible/inventories/group_vars/tofu_vars.yml","id":"2fab6b5102360044c9bc183960bc5c94048ba50d","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]]}]},{"mode":"managed","type":"local_file","name":"system_ansible_inventory","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"all:\n  children:\n    system:\n      hosts:\n        test-sys-cont:\n          additional_disk_device_path: /dev/disk/by-id/scsi-0QEMU_QEMU_HARDDISK_incus_data\n          ansible_host: 10.10.30.10\n          fq_hostname: test-sys-cont.local\n          net_default_gateway: 10.10.30.1\n          net_dns: 10.10.30.3\n          static_ipv4_to_use: 10.10.30.10\n    tofu_vars:\n      children:\n        system: {}\n","content_base64":null,"content_base64sha256":"FYNzYKU3MsNzHSpUU+Y3sGXezXYYN58fFcOw0qspqEw=","content_base64sha512":"bB9FL8mmIbFL1mh+jxNfYKywfXLrbIRBrVUU2B+vccZU4xAc2MEVpGPZSyKj+c5O9v+9heVs4a1v1nus3eVEaQ==","content_md5":"d36dda27ed711d279685cfbfe934ec09","content_sha1":"7a43d77d521540ef8a578d5f60e43d2685b40bc2","content_sha256":"15837360a53732c3731d2a5453e637b065decd7618379f1f15c3b0d2ab29a84c","content_sha512":"6c1f452fc9a621b14bd6687e8f135f60acb07d72eb6c8441ad5514d81faf71c654e3101cd8c115a463d94b22a3f9ce4ef6ffbd85e56ce1ad6fd67bacdde54469","directory_permission":"0777","file_permission":"0777","filename":"../ansible/inventories/hosts.yml","id":"7a43d77d521540ef8a578d5f60e43d2685b40bc2","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]],"dependencies":["data.external.get_local_username","data.local_file.cloud_init_ssh_key_pub","incus_instance.system","incus_storage_volume.data"]}]},{"mode":"managed","type":"null_resource","name":"system_provisioning_server_config","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"3582200857264271135","triggers":{"instance_ids":"test-sys-cont"}},"sensitive_attributes":[],"dependencies":["data.external.get_local_username","data.local_file.cloud_init_ssh_key_pub","incus_instance.system","incus_storage_volume.data","local_file.ansible_tofu_vars_file","local_file.system_ansible_inventory"]}]},{"mode":"managed","type":"random_id","name":"implementation","provider":"provider[\"registry.opentofu.org/hashicorp/random\"]","instances":[{"schema_version":0,"attributes":{"b64_std":"aWL8","b64_url":"aWL8","byte_length":3,"dec":"6906620","hex":"6962fc","id":"aWL8","keepers":null,"prefix":null},"sensitive_attributes":[]}]}],"check_results":null}
